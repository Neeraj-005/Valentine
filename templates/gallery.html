<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Memories üì∑</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Dancing+Script:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body class="gallery-page">
    <!-- Floating Hearts -->
    <div class="hearts-container">
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
    </div>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
        <a href="/" class="nav-link">üè† Home</a>
        <a href="/gallery" class="nav-link active">üì∑ Our Photos</a>
        <a href="/message" class="nav-link">üíï Love Letter</a>
    </nav>

    <!-- Gallery Header -->
    <header class="gallery-header">
        <h1 class="gallery-title">Our Memories üì∏</h1>
        <p class="gallery-subtitle">Not just memories, but pieces of my happiest life with you.</p>
    </header>

    <!-- Photo Grid - Mobile Optimized -->
    <div class="photo-grid">
        <div class="photo-card"
            onclick="openPhotoModal('01 - The Day I Couldn\'t Stop Smiling.jpeg', 'The Day I Couldn\'t Stop Smiling')">
            <div class="photo-wrapper">
                <img src="{{ url_for('static', filename='photos/01 - The Day I Couldn\'t Stop Smiling.jpeg') }}"
                    alt="The Day I Couldn't Stop Smiling" class="photo-img">
                <div class="photo-overlay">
                    <span class="photo-label">The Day I Couldn't Stop Smiling</span>
                </div>
            </div>
        </div>

        <div class="photo-card"
            onclick="openPhotoModal('02 - Always thinking about us(I REALLY CANT GET IT OUT OF MY BRAIN PLZ DONT HELP).jpeg', 'Always thinking about us')">
            <div class="photo-wrapper">
                <img src="{{ url_for('static', filename='photos/02 - Always thinking about us(I REALLY CANT GET IT OUT OF MY BRAIN PLZ DONT HELP).jpeg') }}"
                    alt="Always thinking about us" class="photo-img">
                <div class="photo-overlay">
                    <span class="photo-label">Always thinking about us</span>
                </div>
            </div>
        </div>

        <div class="photo-card"
            onclick="openPhotoModal('03 - The first day i Bought flowers for my girll.jpeg', 'The first day i Bought flowers for my girll')">
            <div class="photo-wrapper">
                <img src="{{ url_for('static', filename='photos/03 - The first day i Bought flowers for my girll.jpeg') }}"
                    alt="The first day i Bought flowers for my girll" class="photo-img">
                <div class="photo-overlay">
                    <span class="photo-label">The first day i Bought flowers for my girll</span>
                </div>
            </div>
        </div>

        <div class="photo-card"
            onclick="openPhotoModal('04 - Comfort Feels Like This.jpeg', 'Comfort Feels Like This')">
            <div class="photo-wrapper">
                <img src="{{ url_for('static', filename='photos/04 - Comfort Feels Like This.jpeg') }}"
                    alt="Comfort Feels Like This" class="photo-img">
                <div class="photo-overlay">
                    <span class="photo-label">Comfort Feels Like This</span>
                </div>
            </div>
        </div>

        <div class="photo-card" onclick="openPhotoModal('05 - My Favorite Place.jpeg', 'My Favorite Place')">
            <div class="photo-wrapper">
                <img src="{{ url_for('static', filename='photos/05 - My Favorite Place.jpeg') }}"
                    alt="My Favorite Place" class="photo-img">
                <div class="photo-overlay">
                    <span class="photo-label">My Favorite Place</span>
                </div>
            </div>
        </div>

        <div class="photo-card"
            onclick="openPhotoModal('06 - Moments I Wish Would Pause.jpeg', 'Moments I Wish Would Pause')">
            <div class="photo-wrapper">
                <img src="{{ url_for('static', filename='photos/06 - Moments I Wish Would Pause.jpeg') }}"
                    alt="Moments I Wish Would Pause" class="photo-img">
                <div class="photo-overlay">
                    <span class="photo-label">Moments I Wish Would Pause</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Full Screen Photo Modal -->
    <div id="photoModal" class="modal photo-modal">
        <span class="close-modal-photo" onclick="closePhotoModal()">&times;</span>

        <!-- Navigation Buttons -->
        <button class="photo-nav photo-nav-prev" onclick="navigatePhoto(-1)" title="Previous Photo">
            &#10094;
        </button>
        <button class="photo-nav photo-nav-next" onclick="navigatePhoto(1)" title="Next Photo">
            &#10095;
        </button>

        <div class="modal-photo-content">
            <img id="modalImage" src="" alt="Full size photo">
            <p id="modalCaption" class="modal-caption"></p>
        </div>
    </div>

    <!-- Background Music Player -->
    {% if music_files %}
    <audio id="musicPlayer" loop>
        <source src="{{ url_for('static', filename='music/' + music_files[0]) }}" type="audio/mpeg">
    </audio>

    <!-- Music Control Button -->
    <button id="musicToggle" class="music-toggle" onclick="toggleMusic()" title="Toggle Music">
        <span id="musicIcon">üîä</span>
    </button>

    <!-- Hidden playlist data -->
    <script>
        const playlist = [
            {% for music_file in music_files %}
        "{{ url_for('static', filename='music/' + music_file) }}"{% if not loop.last %}, {% endif %}
        {% endfor %}
        ];
    </script>
    {% endif %}

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>

</html>